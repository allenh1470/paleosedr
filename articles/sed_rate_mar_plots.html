<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>sed_rate_mar_plots • paleosedr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="sed_rate_mar_plots">
<meta property="og:description" content="paleosedr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">paleosedr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/age_modeling.html">age_modeling</a>
    </li>
    <li>
      <a href="../articles/lipd_playground.html">lipd_playground</a>
    </li>
    <li>
      <a href="../articles/multi_proxy_plotting.html">multi-proxy</a>
    </li>
    <li>
      <a href="../articles/paleosedr_vignette.html">UNKNOWN TITLE</a>
    </li>
    <li>
      <a href="../articles/psa_heatmap.html">psa_heatmap</a>
    </li>
    <li>
      <a href="../articles/sed_rate_mar_plots.html">sed_rate_mar_plots</a>
    </li>
    <li>
      <a href="../articles/stamdardized_data.html">stamdardized_data</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>sed_rate_mar_plots</h1>
                        <h4 data-toc-skip class="author">Hunter</h4>
            
            <h4 data-toc-skip class="date">2024-03-25</h4>
      
      
      <div class="hidden name"><code>sed_rate_mar_plots.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">paleosedr</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readxl.tidyverse.org" class="external-link">readxl</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">lipdR</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/nickmckay/GeoChronR" class="external-link">geoChronR</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Welcome to geoChronR version 1.1.12!</span></span></span></code></pre>
<pre><code><span><span class="co">## </span></span></code></pre>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'geoChronR'</span></span></code></pre>
<pre><code><span><span class="co">## The following objects are masked from 'package:lipdR':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     createTSid, pullTsVariable</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">gridExtra</span><span class="op">)</span></span></code></pre></div>
<p>Table of Contents</p>
<p>1. Standardized Data</p>
<p>2. LIPD Playground</p>
<p>3. Age Modeling</p>
<p>4. <strong>Plotting Sed. Rate and MAR</strong></p>
<p>5. Plotting Multi-Proxy Records</p>
<p>6. Particle Size Heatmap</p>
<div class="section level2">
<h2 id="plotting-sed--rate-and-mar">4. Plotting Sed. Rate and MAR<a class="anchor" aria-label="anchor" href="#plotting-sed--rate-and-mar"></a>
</h2>
<p>Sed. Rate and MAR are great proxies for understanding the changing
accumulation of sediments within a lake sediment core. These two proxies
can highlight periods of increased or decreased erosion in a
watershed.</p>
<p>To set up these plots, we must return to our original Excel file with
our proxy records and gather the data that our age model generates.</p>
<p>Here is the Eklutna dataset that you’ll want to use for practice: <a href="https://docs.google.com/spreadsheets/d/1KlnINNOccssJGl5mrr1PWqobp_kq5WvV/edit?usp=drive_link&amp;ouid=105286369374985387783&amp;rtpof=true&amp;sd=true" class="external-link uri">https://docs.google.com/spreadsheets/d/1KlnINNOccssJGl5mrr1PWqobp_kq5WvV/edit?usp=drive_link&amp;ouid=105286369374985387783&amp;rtpof=true&amp;sd=true</a></p>
<p>In Windows or Mac, search the title of your age model that you put
into the LipD playground file. For Eklutna, I am searching for the file
“eklutna.allen.2024”. You are looking for a file called
“eklutna.allen.2024_##_age.txt” This file will only appear if your
age-model was successful.</p>
<p><img src="images/mar_plotting_2.png"></p>
<p>Once you have located this file, go back to your original Excel file
or grab a fresh one here (<a href="https://docs.google.com/spreadsheets/d/1IUNLVnXgNeDRKuJ9ysiAO2V2DdnlzheV/edit?usp=drive_link&amp;ouid=105286369374985387783&amp;rtpof=true&amp;sd=true" class="external-link uri">https://docs.google.com/spreadsheets/d/1IUNLVnXgNeDRKuJ9ysiAO2V2DdnlzheV/edit?usp=drive_link&amp;ouid=105286369374985387783&amp;rtpof=true&amp;sd=true</a>).</p>
<p>You are going to copy and paste the entire
“eklutna.allen.2024_##age.txt” age file into the “sed_rate” sheet.
<strong>Delete the three columns circled in red (min, max, mean) and
copy the data from “depth” over to “depth_cm.” REMEMBER TO KEEP THE
“depth_cm” COLUMN HEADER AND DO THE SAME FOR MEDIAN AND
“age_cal_bp_yr”</strong></p>
<p><img src="images/mar_plotting_.png">Your Excel sheet should now
look like this. Autofill sed_rate_cm_yr all the way to the bottom of the
dataset. You now have the Sedimentation Rate downcore that you can plot
against age or depth!</p>
<p><img src="images/mar_plotting_1.png"></p>
<p>Great. Now we will do Mass accumulation rate (MAR). Go to the “bd”
sheet and copy the column “density_gcc.” Now go to the “mar” sheet and
paste that column into the density_gcc column of this sheet.</p>
<p>Now go back to the “sed_rate” sheet and copy “depth_cm,”
“sed_rate_cm_yr,” and “age_cal_bp_yr.” Return to the “mar” sheet and
paste them into their respective columns. In column E, fill it out, and
congrats. You now have MAR.</p>
<p>Save the file, head back to RStudio, and follow this code.</p>
<p>We need to reload the Excel file since we edited it last time.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Replace 'path/to/your/excel_file.xlsx' with the actual file path</span></span>
<span><span class="va">excel_file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"2024.03.24_eklutna_compilation.xlsx"</span>, package <span class="op">=</span> <span class="st">"paleosedr"</span>, mustWork <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Call the load_paleo_data function to read in the Excel file</span></span>
<span><span class="va">all_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_paleo_data.html">load_paleo_data</a></span><span class="op">(</span><span class="va">excel_file_path</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## New names:</span></span>
<span><span class="co">## New names:</span></span>
<span><span class="co">## New names:</span></span>
<span><span class="co">## New names:</span></span>
<span><span class="co">## New names:</span></span>
<span><span class="co">## New names:</span></span>
<span><span class="co">## New names:</span></span>
<span><span class="co">## New names:</span></span>
<span><span class="co">## New names:</span></span>
<span><span class="co">## New names:</span></span>
<span><span class="co">## New names:</span></span>
<span><span class="co">## New names:</span></span>
<span><span class="co">## New names:</span></span>
<span><span class="co">## <span style="color: #00BBBB;">•</span> `drive` -&gt; `drive...2`</span></span>
<span><span class="co">## <span style="color: #00BBBB;">•</span> `` -&gt; `...4`</span></span>
<span><span class="co">## <span style="color: #00BBBB;">•</span> `drive` -&gt; `drive...5`</span></span></code></pre>
<p>Now we can make the sed_rate plot first using the get_sed_rate_sheet
command:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eklutna_sed_rate_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_sed_rate_sheet.html">get_sed_rate_sheet</a></span><span class="op">(</span><span class="va">all_data</span><span class="op">)</span></span></code></pre></div>
<p><img src="sed_rate_mar_plots_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>We can also do this for MAR using the get_mar_sheets function:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eklutna_mar_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_mar_sheet.html">get_mar_sheet</a></span><span class="op">(</span><span class="va">all_data</span><span class="op">)</span></span></code></pre></div>
<p><img src="sed_rate_mar_plots_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<p>Both of these plots are ggplots and can be fully edited. If you need
to adjust the plot axis, you can substitute your plot name and depths
with the following code. Feel free to change the color of the geom_line
to whatever you like.</p>
<p><img src="images/sed%20rate%20and%20MAR.png"></p>
<p>Your final plots should look very similar since Sed. Rate and MAR
often correlate with one another.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Hunter Allen.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
